<?php
/** @var \Icinga\Module\Toplevelview\ViewConfig $view */
/** @var \Icinga\Module\Toplevelview\Tree\TLVTreeNode $node */

$tree = $view->getTree();

if (! $this->compact):
?>
<div class="controls">
    <?= $this->tabs ?>
</div>
<?php endif ?>
<div class="content tlv-view-tree">
    <div class="tlv-header">
        <div class="last-refresh">
            <?= $this->translate('Last update') ?>
            <?= $this->timeAgo($tree->getFetchTime()) ?>
        </div>
        <?= $this->badges($tree->getStatus(), false) ?>
        <h1><?= $view->getMeta('name') ?></h1>
        <?= $this->partial('show/actions.phtml', $this) ?>
    </div>
    <?= $this->breadcrumb($node->getBreadCrumb(), $view->getName()) ?>
    <?= $this->tree($node) ?>
</div>
